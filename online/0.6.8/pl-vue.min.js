function t(...t){console.warn(...t)}function e(t){return t.length}function n(t){return Object.prototype.toString.call(t).slice(8,-1)}function r(t,n){if(o(t)&&o(n)){const o=Object.keys(t),i=Object.keys(n);if(e(o)!==e(i))return!1;for(const e of o){if(!i.includes(e))return!1;if(!r(t[e],n[e]))return!1}return!0}return t===n}function o(t){return"object"==typeof t&&null!==t}function i(t){return s(t)||"Array"===n(t)}function s(t){return"Object"===n(t)}function c(t){return Array.isArray(t)}function u(t){return"string"==typeof t}function l(t){return"function"==typeof t}function a(t){Promise.resolve().then(t)}class f extends WeakMap{}function d(t,e={}){const r=new f,o=["Null","Regexp","Date","WeakSet","WeakMap"],i=Object.assign({Function(t){const e=function(...e){return t.apply(this,e)};return e.prototype=s(t.prototype),e},Set(t){const e=new Set;for(const n of t)e.add(s(n));return e},Map(t){const e=new Map;for(const[n,r]of t.entries())e.set(n,s(r));return e}},e);function s(t){if("object"==typeof window&&t instanceof HTMLElement)return t.cloneNode(!0);const e=n(t);if(!["object","function"].includes(typeof t)||o.includes(e))return t;if(r.has(t))return r.get(t);if(i[e])return i[e](t);const u=c(t)?[]:{};Object.setPrototypeOf(u,Object.getPrototypeOf(t)),r.set(t,u);for(const e in t)t.hasOwnProperty(e)&&(u[e]=s(t[e]));return u}return s(t)}function h(t,e){return Object.assign({},t,e)}function g(t,e,n){let r=0;for(;r<t.length;){if(t.hasOwnProperty(r)){const o=t[r];e.apply(n,[o,r,n])}r++}}let p=null;const y=new f;function m(t){p=t,t(),p=null}function v(t){const e=y.get(t);e&&(g(e,((t,n)=>{!0===t()&&delete e[n]})),y.set(t,e.filter((t=>t))))}function _(...t){g(t,(function t(e){const n=O(e);for(const e in n){const r=n[e];o(r)&&t(r)}y.delete(n)}))}function b(e){return Reflect.defineProperty(e,N.IS_READONLY,{value:!0}),new Proxy(e,{get:(t,e)=>e===N.RAW?t:Reflect.get(t,e),set(e,n,r){const o=Reflect.get(e,n);return t(`Set operation on key '${n.toString()}' failed: target is readonly.`,{[n.toString()]:o}),o},deleteProperty(e,n){const r=Reflect.get(e,n);return t(`Delete operation on key '${n.toString()}' failed: target is readonly.`,{[n.toString()]:r}),r}})}const w=new f,S=new f,N={RAW:Symbol("__v_raw"),IS_READONLY:Symbol("__v_isReadonly")};function R(e){if(!i(e)||Object.isFrozen(e))return t(`lue cannot be made reactive: ${e}`),e;if(w.get(e))return e;let n=null;return new Proxy(e,{get(t,e,n){if(e===N.RAW)return t;const r=Reflect.get(t,e,n);return function(t){const e=y.get(t)||[],n=e.some((t=>p===t));p&&!n&&(e.push(p),y.set(t,e))}(t),i(r)?R(r):r},set(t,e,n,r){if(t[N.IS_READONLY])return!0;if(Reflect.get(t,e,r)===n)return!0;const o=Reflect.set(t,e,n,r),i=S.get(t)||new Set;i.add(e);const s=i.size;return S.set(t,i),a((()=>{o&&1===s&&v(t),S.delete(t)})),o},deleteProperty(t,e){const r=Reflect.get(t,e),o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(t,e),i=Reflect.deleteProperty(t,e);return n=e,a((()=>{o&&i&&void 0!==r&&e===n&&(v(t),n=null)})),i}})}function M(t){return o(t)&&!!t[N.RAW]}function O(t){return M(t)?t[N.RAW]:t}function j(t){return M(t)||function(t){return t&&b(t)[N.IS_READONLY]}(t)}function T(t){return o(t)&&w.set(t,!0),t}function L(t){const e={value:t},n=R(e);return[function(){return n.value},function(t){n.value=t},e]}const k=Symbol("__v_isRef");class x{[k]=!0;_rawValue;_value;getSignal;setSignal;constructor(t){const[e,n,r]=L(t);this._rawValue=r,this.getSignal=e,this.setSignal=n,this._value=e()}get value(){return this.getSignal()}set value(t){this.setSignal(t)}}function A(t=void 0){return new x(t)}function F(t){return t&&!!t[k]}function E(t){return F(t)?t.value:t}class H{[k]=!0;_defaultValue;_key;_object;constructor(t,e,n=void 0){this._defaultValue=n,this._key=e,this._object=t}get value(){return this._object[this._key]}set value(t){this._object[this._key]=t}}function P(t,e,n=void 0){return new H(t,e,n)}function $(t){const e={};for(const n in t)e[n]=new H(t,n);return e}class W extends x{_get;_set;constructor(t){let e=!1;const{get:n,set:r}=t((()=>e=!0),(()=>this.setValue()));super(n()),this[k]=e,this._get=n,this._set=r}get value(){return this[k]?super.value:this._get()}set value(t){this._set(t)}setValue(){super.value=this._get()}}function D(t){return new W(t)}class C{fn;constructor(t){this.fn=t}}class V{__v_isReadonly=!0;[k]=!0;_cacheable=!0;_dirty=!0;computed;_setter;constructor(t,e){this.computed=new C(t),this._setter=e}get value(){return this.computed.fn()}set value(e){this._setter?this._setter(e):t("Write operation failed: computed value is readonly")}}function I(t){return l(t)?new V(t):new V(t.get,t.set)}function Y(t,e,n={}){let o=!1;if(o)return;const s=t();n.immediate&&e(s,void 0);let c=d(s),u=!0;return m((()=>{if(o)return!0;const s=t();i(s)?n.deep&&!r(s,c)&&(e(s,c),c=d(s)):u?u=!1:s!==c&&(e(s,c),c=s)})),()=>{o=!0,c=t=e=n=null}}function z(t){let e=!1;return m((()=>{if(e)return!0;t((t=>{t()}))})),()=>{e=!0,t=null}}function B(t){return["string","number"].includes(typeof t)&&""!==t}function J(t){return!/^on/.test(t)}function q(t){return l(t)&&!nt(t)}function G(t){return function(t){return"class"===t.toString().slice(0,5)}(t)&&t.prototype&&t.prototype.render}function K(t){return[void 0,null,"",!0,!1].includes(t)}function Q(...t){const e=[];return g(t,(t=>{l(t)&&(t=t()),B(t)&&e.push(t)})),e.join(" ").trim().replace(/\s+/," ")}function U(t){return document.createTextNode(t)}function X(t,e){t.appendChild(e)}function Z(t,n,...r){const o={tag:t,attrs:n||{},children:r};return q(o.tag)&&0===e(o.children)&&o.attrs.children&&(o.children=o.attrs.children),o}function tt({children:t}){return t}const et=Symbol("Fragment");function nt(t){return l(t)&&t.prototype&&t.prototype[et]===et}tt.prototype[et]=et;const rt=new f;function ot(t,e=[]){return g(t,(n=>{o(n)&&(q(n.tag)?(e.push({comp:n.tag,props:h(n.attrs,{children:t})}),g(n.children,(t=>{q(t)&&e.push({comp:t,props:{}})}))):B(n.tag)&&ot(n.children,e))})),e}function it(t,e=[]){const n=rt.get(t)||[];return e.push(...n),g(n,(t=>{const n=it(t.comp);e.push(...n)})),e}let st=null;let ct=null;function ut(t){ct=t}let lt=!1;function at(t){lt=t}const ft=[];let dt=!1;function ht(t){lt||(dt?t():ft.push(t))}const gt=[];let pt=!1;function yt(t){lt||(pt?a(t):gt.push(t))}function mt(){g(gt,(t=>t())),gt.length=0,pt=!0}const vt=new f;function _t(t){if(lt)return;const e=vt.get(st)||[],n=e.some((e=>e===t));n||(e.push(t),vt.set(st,e))}function bt(t){const e=it(t).map((t=>t.comp));e.unshift(t);const n=[];g(e,(t=>{const e=vt.get(t)||[];n.push(...e),vt.delete(t)})),g(n,(t=>t()))}const wt=new f;function St(t){if(lt)return;const e=wt.get(st)||[],n=e.some((e=>e===t));n||(e.push(t),wt.set(st,e))}function Nt(t){const e=it(t).map((t=>t.comp));e.unshift(t);const n=[];g(e,(t=>{const e=wt.get(t)||[];n.push(...e),wt.delete(t)})),g(n,(t=>t()))}class Rt{constructor(){}intercept(t){return console.log(t),t}renderToString(t){at(!0);const e=this.createHTML(t);return at(!1),e}createHTML(t){const{tag:e,attrs:n,children:r}=this.intercept(t);if(nt(e)){const t=e(h(n,{children:r}));return this.createHTMLFragment(t)}if(q(e)){if(G(e)){const t=new e({...n,children:r});return this.createHTML(t.render.bind(t))}const t=e(h(n,{children:r}));return this.createHTML(t)}let o="";for(const t in n){if(t.startsWith("on")||["ref","created"].includes(t))continue;let i=l(n[t])&&J(t)?n[t]():n[t];if(u(e)&&["innerHTML","innerText","textContent"].includes(t))r[0]=i;else if("className"!==t){if("style"===t&&s(i)){for(const t in i)l(i[t])&&(i[t]=i[t]());i='"'+JSON.stringify(i).slice(1,-1).replace(/"/g,"").replace(/,/g,";")+'"'}o+=` ${t}="${i}"`}else i&&(o+=` class="${Q(...[i].flat())}"`)}return`<${e}${o}>${this.createHTMLFragment(r)}</${e}>`}createHTMLFragment(e){let n="";return g(e,(e=>{if(!K(e))if(B(e))n+=e.toString();else if(c(e))n+=this.createHTMLFragment(e);else if(l(e)){const t=e();n+=this.createHTMLFragment([t])}else s(e)?n+=this.createHTML(e):t(`renderToString: 不支持 ${e} 值渲染`)})),n}}class Mt extends Rt{#t;constructor(t){super(),this.#t=t.binding}render(t){const e=this.createElement(t);return g(ft,(t=>t())),ft.length=0,dt=!0,a(mt),e}createElement(t){const{tag:e,attrs:n,children:r}=this.intercept(t);return u(e)?this.createRealNode(e,n,r):nt(e)?this.createNodeFragment(r):q(e)?this.createComponent(e,n,r):void 0}createComponent(t,e,n){if(st=t,G(t)){const r=new t({...e,children:n});t=r.render.bind(r)}const r=t(h(e,{children:n}));return function(t,e){st=t,"ref"in e&&(e.ref.value=ct),ct=null}(t,e),B(r)?U(r):(rt.set(t,ot([r,...r.children])),this.createElement(r))}createRealNode(t,e={},n=[""]){const r=document.createElement(t),o=e.created;if(l(o)){const t=n.findIndex((t=>t===o));t>=0&&n.splice(t,1)}g(n,(t=>{if(this.intercept(t),l(t)){const e=this.createNodeFragment([t]);X(r,e)}else this.#e(r,t)}));for(const t in e)this.#n(r,t,e[t]);if(e.style&&s(e.style))for(const t in e.style){const n=e.style[t];l(n)?this.#t((()=>r.style[t]=n())):r.style[t]=n}return r}createNodeFragment(t){const e=document.createDocumentFragment();return g(t,(t=>{this.intercept(t),l(t)?this.#r(e,t):this.#e(e,t)})),e}#e(e,n){if(!K(n))if(c(n)){X(e,this.createNodeFragment(n))}else if(B(n)||s(n)){X(e,this.#o(n))}else t(`render: 不支持 ${n} 值渲染`)}#o(t){return B(t)?U(t):s(e=t)&&u(e.tag)?this.createRealNode(t.tag,t.attrs,t.children):nt(t.tag)?this.createNodeFragment(t.children):q(t.tag)?this.createComponent(t.tag,t.attrs,t.children):void 0;var e}#n(t,e,n){if("ref"===e&&s(n))return void(n.value=t);if("created"===e&&l(n))return void n(t);if("className"===e&&c(n))return void this.#t((()=>{t[e]=Q(...n)}));let r=n=>t[e]=n;"className"===e?r=n=>t[e]=Q(n):e.startsWith("data-")&&(r=n=>t.dataset[e.slice(5)]=n),J(e)&&l(n)?this.#t((()=>r(n()))):r(n)}#r(n,i){let s=[],u=!0,l=null;const a=U("");X(n,a),this.#t((()=>{let f=i();if(f&&o(f)&&nt(f.tag))return void t("不支持响应式节点片段渲染");c(f)||(f=[f]),f=f.filter((t=>!K(t)));let d=0;for(;d<e(f);){let t=f[d];const o=Ot(s,d);if(o>=0){if(r(t,s[o].tree)){d++;continue}const e=this.#o(t);if(!e){f.splice(o,1),d++;continue}const n=s[o].tree;if(q(n.tag)&&bt(n.tag),s[o].node.parentElement.replaceChild(e,s[o].node),q(n.tag)){const t=n.tag;Nt(t),rt.delete(t)}s[o].tree=t,s[o].node=e}else{const r=this.#o(t);if(!r){d++;continue}if(u)X(n,r);else if(0===e(s))l??=a.parentElement,l.insertBefore(r,a.nextSibling);else{const t=s[e(s)-1].node,n=t.nextSibling;t.parentElement.insertBefore(r,n)}s.push({key:d,tree:t,node:r})}d++}if(e(s)>e(f)){for(let t=e(f);t<e(s);t++){const e=s[t].tree;if(q(e.tag)&&bt(e.tag),s[t].node.remove(),q(e.tag)){const t=e.tag;Nt(t),rt.delete(t)}}s.splice(e(f),e(s)-e(f))}u=!1}))}}function Ot(t,n){let r=0,o=e(t)-1;for(;r<=o;){const e=Math.ceil((r+o)/2),i=t[e];if(n===i.key)return e;n<i.key?o=e-1:n>i.key&&(r=e+1)}return-1}class jt extends Mt{constructor(t){super(t),this.option=t}use(t){return t.install(this),this}version="0.6.8";intercept(t){if(t&&u(t.tag)){const e=this.#i.get(t.tag);e&&(t.tag=e)}return t}#i=new Map;component(t,e){return this.#i.set(t,e),this}}function Tt(){return new jt({binding:m})}function Lt(t){return new Mt({binding:m}).render(t)}function kt(t){return(new Rt).renderToString(t)}function xt(t,e){return Lt(Z(t,e))}export{tt as Fragment,x as RefImpl,Rt as Static,Mt as Structure,m as binding,I as computed,Tt as createApp,L as createSignal,D as customRef,ut as defineExpose,Z as h,j as isProxy,M as isReactive,F as isRef,T as markRaw,a as nextTick,ht as onBeforeMount,_t as onBeforeUnmount,yt as onMounted,St as onUnmounted,R as reactive,b as readonly,_ as recycleDepend,A as ref,Lt as render,kt as renderToString,O as toRaw,P as toRef,$ as toRefs,E as unref,xt as useComponent,Y as watch,z as watchEffect};
